import {CodeBlock} from "../../components/shared/code_block";

---

# 📦 모가조아 (Mogazoa) 프로젝트 포트폴리오

## 📌 프로젝트 개요

**모가조아**는 사용자들이 다양한 제품을 등록하고 리뷰를 작성하며, 제품을 비교할 수 있는 소셜 리뷰 플랫폼입니다. 사용자들은 제품의 평점과 리뷰를 확인하고, 관심 있는 제품을 찜하며, 다른 사용자들과 의견을 공유할 수 있습니다.

## 🎯 프로젝트 목표

- **제품 정보의 집약**: 흩어진 제품 정보와 리뷰를 한 곳에서 확인
- **객관적인 비교**: 두 제품을 직관적으로 비교할 수 있는 기능 제공
- **커뮤니티 기반 평가**: 실사용자들의 리뷰를 통한 신뢰성 있는 정보 공유
- **트렌드 파악**: 인기 제품과 트렌드를 쉽게 확인

## 🛠 기술 스택

### **Frontend**
- **Next.js** - React 기반 SSR/SSG 프레임워크
- **TypeScript** - 타입 안정성 확보
- **React** - UI 라이브러리
- **TanStack Query (React Query)** - 서버 상태 관리 및 캐싱
- **Axios** - HTTP 클라이언트
- **Tailwind CSS** - 유틸리티 기반 CSS 프레임워크
- **Zustand** - 클라이언트 상태 관리

### **인증 & 소셜 로그인**
- **Google OAuth** - 구글 소셜 로그인
- **Kakao OAuth** - 카카오 소셜 로그인
- **JWT** - 토큰 기반 인증

### **Development Tools**
- **ESLint & Prettier** - 코드 품질 관리
- **Git** - 버전 관리

## ✨ 주요 기능

### 1. **제품 관리**
- 제품 등록 및 수정
- 카테고리별 제품 분류
- 제품 상세 정보 조회
- 제품 이미지 업로드

### 2. **리뷰 시스템**
- 별점(1-5점) 기반 제품 평가
- 텍스트 리뷰 및 이미지 첨부
- 리뷰 정렬 (최신순, 평점 높은순, 낮은순, 좋아요순)
- 리뷰 좋아요 기능

### 3. **제품 비교**
- 두 제품을 나란히 비교
- 평균 평점, 찜 수, 리뷰 수 비교
- 카테고리 평균 대비 성능 확인

### 4. **랭킹 & 트렌드**
- 카테고리별 인기 제품 랭킹
- 트렌드 제품 순위 (리뷰순, 평점순, 찜순)
- 실시간 업데이트

### 5. **사용자 기능**
- 프로필 관리
- 작성한 리뷰 관리
- 등록한 제품 목록
- 찜한 제품 목록
- 활동 기록 확인

### 6. **검색 & 필터링**
- 키워드 기반 제품 검색
- 카테고리 필터
- 정렬 옵션 (리뷰순, 평점순, 최신순, 찜순)
- 무한 스크롤을 통한 페이지네이션

### 7. **소셜 로그인**
- Google 계정 연동
- Kakao 계정 연동
- 일반 회원가입/로그인

## 🏗 아키텍처 & 폴더 구조

모가조아는 **관심사 분리(Separation of Concerns)** 원칙을 따르는 체계적인 폴더 구조를 가지고 있습니다.

```text
src/
├── components/          # UI 컴포넌트
│   ├── feature/        # 비즈니스 도메인별 컴포넌트
│   ├── layout/         # 레이아웃 컴포넌트
│   └── shared/         # 공용 재사용 컴포넌트
├── constants/          # 상수 정의
├── hooks/              # 커스텀 훅
├── lib/                # 프로젝트 종속 유틸리티
│   ├── axios/         # API 인스턴스 설정
│   ├── auth/          # 인증 관련 로직
│   └── query/         # Query Client 설정
├── models/             # 비즈니스 로직
│   ├── queries/       # React Query 커스텀 훅
│   └── services/      # API 서비스 로직
├── pages/              # Next.js 페이지 라우팅
│   ├── api/           # API Routes
│   ├── detail/        # 제품 상세 페이지
│   ├── compare/       # 제품 비교 페이지
│   ├── user/          # 사용자 프로필 페이지
│   └── mypage/        # 마이페이지
├── providers/          # Context Providers
├── store/              # Zustand Store
├── styles/             # 전역 스타일
├── types/              # TypeScript 타입 정의
└── utils/              # 범용 유틸리티 함수
```

### 설계 원칙

#### **1. lib vs utils 구분**
- **lib**: 프로젝트에 종속적인 유틸리티 (Axios 설정, 인증 로직 등)
- **utils**: 범용적으로 재사용 가능한 순수 함수 (데이터 변환, 유효성 검사 등)

#### **2. React Query 활용**
- `models/services`: Query Options 정의 및 API 호출 로직
- `models/queries`: 재사용 가능한 커스텀 훅
- Prefetching을 통한 SSR 최적화
- 캐싱 전략을 통한 불필요한 API 호출 최소화

#### **3. API 통신**
- Axios Interceptor를 통한 인증 토큰 자동 주입
- 에러 핸들링 중앙화
- 타입 안정성 보장

## 🎨 주요 화면

### 1. **홈 페이지**
- 카테고리 메뉴
- 인기 제품 랭킹
- 트렌드 제품 랭킹
- 제품 목록 (정렬 및 필터링)

### 2. **제품 상세 페이지**
- 제품 정보 카드
- 통계 (평균 평점, 찜 수, 리뷰 수)
- 카테고리 평균 대비 비교
- 리뷰 목록 및 작성

### 3. **제품 비교 페이지**
- 두 제품 선택 드롭다운
- 비교 테이블 (이미지, 정보, 통계)
- 우위 제품 하이라이트

### 4. **사용자 프로필 페이지**
- 프로필 카드
- 활동 섹션
- 제품 카테고리별 조회 (리뷰 남긴 상품, 등록한 상품, 찜한 상품)

### 5. **마이페이지**
- 개인 정보 수정
- 내 활동 관리
- 설정

## 🚀 핵심 구현 내용

### 1. **서버 사이드 렌더링 (SSR) 최적화**
```typescript
export const getServerSideProps = async (context: GetServerSidePropsContext) => {
  const queryClient = new QueryClient();

  // 서버에서 데이터 Prefetch
  await Promise.all([
    queryClient.prefetchQuery(productsService.queryOptions({ order: 'recent' })),
    queryClient.prefetchQuery(productsService.queryOptions({ order: 'rating' })),
    queryClient.prefetchQuery(productsService.queryOptions({ order: 'reviewCount' })),
  ]);

  return {
    props: {
      dehydratedState: dehydrate(queryClient),
    },
  };
};
```

### 2. **무한 스크롤 구현**
```typescript
const {
  fetchNextPage,
  hasNextPage,
  isFetchingNextPage,
} = useGetInfiniteProducts({ keyword, category, order });

const [ref, inView] = useInView();

useEffect(() => {
  if (inView && hasNextPage) {
    fetchNextPage();
  }
}, [inView, hasNextPage, fetchNextPage]);
```

### 3. **OAuth 인증 플로우**
```text
Google/Kakao 인가 코드 수신 → idToken 교환 → 백엔드 로그인/회원가입 요청
→ Access Token 쿠키 저장 → 메인 페이지 리다이렉트
```

### 4. **Axios Interceptor를 통한 인증 토큰 관리**
```typescript
apiInstance.interceptors.request.use((config) => {
  const token = getCookie('accessToken');
  if (config.headers && token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});
```

### 5. **재사용 가능한 Query Service 패턴**
```typescript
const productsService = {
  queryKey: ['products'],
  queryOptions: (params) => queryOptions({
    queryKey: ['products', params.category, params.order, params.keyword],
    queryFn: async () => {
      const { data } = await axios.get('/products', { params });
      return data.list;
    },
    staleTime: 10 * 1000,
  }),
  infiniteQueryOptions: (params) => infiniteQueryOptions({
    // ... 무한 스크롤 로직
  }),
};
```

## 📊 성능 최적화

### 1. **React Query 캐싱 전략**
- `staleTime: 10초` - 데이터 신선도 유지
- Prefetching을 통한 사용자 경험 향상
- Optimistic Update로 즉각적인 UI 반영

### 2. **이미지 최적화**
- Next.js Image 컴포넌트 활용
- Lazy Loading
- 반응형 이미지 제공

### 3. **코드 스플리팅**
- Next.js의 자동 코드 스플리팅
- Dynamic Import를 통한 필요시 로딩

### 4. **API 요청 최적화**
- 중복 요청 방지
- 무한 스크롤을 통한 데이터 분할 로드
- Debounce를 통한 검색 최적화

## 🎓 학습 및 성장 포인트

### 1. **Next.js SSR/SSG 이해**
- getServerSideProps를 통한 서버 사이드 렌더링
- SEO 최적화 및 초기 로딩 성능 개선

### 2. **React Query 마스터**
- 서버 상태 관리의 복잡도 감소
- 캐싱, Prefetching, Optimistic Update 활용
- Query Service 패턴을 통한 코드 재사용성 향상

### 3. **TypeScript 활용**
- 타입 안정성을 통한 버그 감소
- 개발 생산성 향상

### 4. **아키텍처 설계**
- 관심사 분리를 통한 유지보수성 향상
- 재사용 가능한 컴포넌트 설계
- 확장 가능한 폴더 구조

### 5. **OAuth 인증 플로우 이해**
- 소셜 로그인 구현 경험
- JWT 기반 인증 시스템

## 🔧 개선 사항 및 향후 계획

### **현재 개선 사항**
1. ~~검색 시 캐러셀 제거~~
2. 드롭다운 클릭 시 가시성 향상 필요
3. 전체 카테고리 클릭 시 전체 카테고리 출력
4. 글씨 크기 조정
5. 블러 효과 강화
6. 플러스 버튼 위치 변경


## 📱 배포 및 운영

- **배포 플랫폼**: Vercel
- **백엔드 API**: Mogazoa API (`https://mogazoa-api.vercel.app/5-5/`)
- **CI/CD**: Vercel 자동 배포

## 👥 프로젝트 정보

- **GitHub**: [@kidboi666](https://github.com/kidboi666)
- **개발 기간**: (프로젝트 기간 명시)
- **팀 구성**: (팀 구성 명시)

---

## 💡 프로젝트 하이라이트

**모가조아** 프로젝트를 통해 **Next.js의 SSR**, **React Query를 활용한 효율적인 서버 상태 관리**, **OAuth 소셜 로그인 구현**, **관심사 분리 기반의 아키텍처 설계** 등 현대적인 웹 개발 기술을 실전에서 적용하고 학습할 수 있었습니다.

특히 **재사용 가능한 Query Service 패턴**과 **무한 스크롤**, **Prefetching을 통한 성능 최적화** 등을 통해 사용자 경험을 크게 향상시켰으며, **TypeScript를 활용한 타입 안정성** 확보로 유지보수가 용이한 코드베이스를 구축했습니다.

---

이 포트폴리오는 프로젝트 지식을 바탕으로 작성되었으며, 필요에 따라 스크린샷, 데모 링크, 구체적인 성과 지표 등을 추가하시면 더욱 완성도 높은 포트폴리오가 될 것입니다! 🚀
