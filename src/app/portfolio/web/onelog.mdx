# OneSentence

> 하루 한 문장씩 - 당신의 감정을 기록하세요.

감정을 담은 하루 한 문장을 작성하고, 일상을 기록하는 감정 다이어리 웹 애플리케이션입니다.

## 프로젝트 개요

OneSentence는 사용자가 하루의 감정을 한 줄로 표현하거나 긴 글로 기록할 수 있는 서비스입니다. 작성한 글들은 잔디밭(캘린더) 형태로 시각화되어 감정의 흐름을 한눈에 파악할 수 있습니다.

## 주요 기능

### 글쓰기
- **한 줄 작성**: 감정 농도와 함께 간단한 한 줄 메시지 작성
- **긴 글 작성**: TipTap 에디터를 활용한 마크다운 기반 리치 텍스트 편집
- **감정 농도 설정**: 작성 시점의 감정 상태를 수치로 기록
- **공개/비공개 설정**: 게시물의 공개 범위 설정

### 기록 관리
- **잔디밭 뷰**: 월별 캘린더 형태로 작성 이력 시각화
- **감정 농도 표시**: 각 날짜별 감정 농도를 색상으로 구분
- **작성 이력 조회**: 특정 날짜의 작성글 상세 확인

### 소셜 기능
- **댓글**: 게시물에 댓글 작성 및 관리
- **좋아요**: 마음에 드는 게시물에 좋아요 표시
- **팔로우**: 다른 사용자 팔로우 및 팔로워 관리
- **프로필**: 개인 프로필 페이지 및 커스터마이징

### 할일 관리
- **할일 작성**: 간단한 할일 목록 관리
- **폴더 구성**: 할일을 폴더별로 분류
- **드래그 앤 드롭**: 직관적인 UI로 할일 이동 및 완료 처리
- **메모 기능**: 각 할일에 상세 메모 추가

### 사용자 경험
- **다크모드**: 라이트/다크 테마 전환
- **반응형 디자인**: 모바일, 태블릿, 데스크톱 최적화
- **소셜 로그인**: 카카오톡 간편 로그인

## 기술 스택

### Frontend
- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **State Management**: Zustand
- **Data Fetching**: TanStack React Query
- **Rich Text Editor**: TipTap
- **Form Validation**: React Hook Form + Zod

### Backend
- **Framework**: NestJS
- **Database**: PostgreSQL (via Supabase)
- **Authentication**: Supabase Auth (카카오톡 OAuth)
- **ORM**: TypeORM

### Infrastructure
- **BaaS**: Supabase
- **Deployment**: Vercel (Frontend)

## 프로젝트 구조

```
onelog/
├── client/                 # Next.js 프론트엔드
│   ├── src/
│   │   ├── app/           # App Router 페이지
│   │   │   ├── (playground)/   # 메인 레이아웃
│   │   │   │   ├── (home)/     # 홈 피드
│   │   │   │   ├── post/       # 게시물 작성/조회
│   │   │   │   ├── profile/    # 프로필
│   │   │   │   ├── settings/   # 설정
│   │   │   │   └── todo/       # 할일 관리
│   │   │   └── oauth/          # 소셜 로그인 콜백
│   │   ├── components/    # 공통 컴포넌트
│   │   ├── hooks/         # 커스텀 훅
│   │   ├── lib/           # 유틸리티 함수
│   │   ├── services/      # API 서비스
│   │   ├── store/         # Zustand 스토어
│   │   └── types/         # TypeScript 타입 정의
│   └── public/            # 정적 파일
└── server/                # NestJS 백엔드
    └── src/
        ├── modules/       # 기능별 모듈
        ├── config/        # 설정
        └── common/        # 공통 유틸리티
```

## 시작하기

### 환경 요구사항

- Node.js 20.x 이상
- npm 또는 yarn

### 설치 및 실행

1. **저장소 클론**
```bash
git clone <repository-url>
cd onelog
```

2. **클라이언트 설치 및 실행**
```bash
cd client
npm install
npm run dev
```

3. **서버 설치 및 실행** (선택사항)
```bash
cd server
npm install
npm run start:dev
```

4. **브라우저에서 접속**
```
http://localhost:3000
```

### 환경 변수 설정

클라이언트의 `.env.local` 파일에 다음 환경 변수를 설정하세요:

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
```

## 개발 스크립트

### 클라이언트
```bash
npm run dev          # 개발 서버 실행
npm run build        # 프로덕션 빌드
npm run start        # 프로덕션 서버 실행
npm run lint         # ESLint 실행
npm run gen-types    # Supabase 타입 생성
```

### 서버
```bash
npm run start        # 프로덕션 모드 실행
npm run start:dev    # 개발 모드 실행 (watch)
npm run start:debug  # 디버그 모드 실행
npm run build        # 빌드
npm run test         # 테스트 실행
```

## 주요 특징

### 1. 감정 기록의 시각화
잔디밭 형태의 캘린더로 감정의 흐름을 한눈에 파악할 수 있습니다. 각 날짜는 감정 농도에 따라 다른 색상으로 표시됩니다.

### 2. 직관적인 에디터
TipTap 기반의 마크다운 에디터로 이미지, 링크, 코드 블록 등 다양한 콘텐츠를 작성할 수 있습니다.

### 3. 소셜 기능
팔로우, 댓글, 좋아요 등의 소셜 기능으로 다른 사용자와 소통할 수 있습니다.

### 4. 할일 관리 통합
감정 기록과 함께 할일을 관리하여 일상을 체계적으로 정리할 수 있습니다.

### 5. 반응형 디자인
모바일, 태블릿, 데스크톱 모든 기기에서 최적화된 경험을 제공합니다.

## 데이터베이스 스키마

### Post (게시물)
- `id`: 게시물 고유 ID
- `content`: 게시물 내용
- `emotion_level`: 감정 농도 (0-10)
- `created_at`: 생성 시간
- `updated_at`: 수정 시간
- `viewed`: 조회수
- `favorite`: 좋아요 수
- `is_public`: 공개 여부

### Comment (댓글)
- `id`: 댓글 고유 ID
- `content`: 댓글 내용
- `post_id`: 게시물 ID (외래키)
- `user_id`: 작성자 ID
- `created_at`: 생성 시간

### Garden (잔디밭)
- `id`: 잔디밭 고유 ID
- `year_month`: 년도와 월 (예: '2024.11')
- `posts`: 해당 월의 게시물 정보
- `created_at`: 생성 시간

## 기여하기

이 프로젝트는 개인 프로젝트이지만, 피드백과 제안은 언제나 환영합니다.

## 라이선스

이 프로젝트는 개인 프로젝트입니다.

## 문의

프로젝트에 대한 문의사항이 있으시면 이슈를 등록해주세요.